<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Snake Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 900px;
            text-align: center;
        }

        header {
            margin-bottom: 20px;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            letter-spacing: 2px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #a9a9a9;
            margin-bottom: 30px;
        }

        .game-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            perspective: 1000px;
        }

        .game-board-container {
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(10deg);
        }

        #game-board {
            background-color: #0d1930;
            border-radius: 10px;
            box-shadow: 
                0 15px 35px rgba(0, 0, 0, 0.5),
                0 5px 15px rgba(0, 219, 222, 0.3),
                inset 0 0 20px rgba(0, 0, 0, 0.3);
            display: grid;
            grid-template-columns: repeat(20, 1fr);
            grid-template-rows: repeat(20, 1fr);
            gap: 1px;
            width: 500px;
            height: 500px;
            position: relative;
            overflow: hidden;
        }

        .board-tile {
            background-color: rgba(13, 25, 48, 0.8);
            border-radius: 2px;
            transition: background-color 0.2s;
        }

        .snake {
            background: linear-gradient(45deg, #00dbde, #00ff9d);
            border-radius: 4px;
            box-shadow: 
                0 0 8px rgba(0, 255, 157, 0.7),
                inset 0 0 5px rgba(255, 255, 255, 0.5);
            z-index: 2;
            transform: translateZ(5px);
            transition: all 0.15s ease-out;
        }

        .snake-head {
            background: linear-gradient(45deg, #fc00ff, #00dbde);
            border-radius: 6px;
            box-shadow: 
                0 0 12px rgba(252, 0, 255, 0.8),
                inset 0 0 8px rgba(255, 255, 255, 0.7);
            transform: translateZ(10px);
        }

        .food {
            background: radial-gradient(circle, #ff416c, #ff4b2b);
            border-radius: 50%;
            box-shadow: 
                0 0 15px rgba(255, 65, 108, 0.9),
                inset 0 0 8px rgba(255, 255, 255, 0.6);
            animation: pulse 1.5s infinite alternate;
            transform: translateZ(8px);
        }

        @keyframes pulse {
            0% { transform: translateZ(8px) scale(0.9); }
            100% { transform: translateZ(8px) scale(1.1); }
        }

        .game-info {
            flex: 1;
            min-width: 250px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform-style: preserve-3d;
            transform: rotateY(-10deg);
        }

        .score-container, .high-score-container {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(0, 219, 222, 0.2);
            transform: translateZ(20px);
        }

        .score-title, .high-score-title {
            font-size: 1.2rem;
            color: #00dbde;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .score-value, .high-score-value {
            font-size: 3rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 0 10px rgba(0, 219, 222, 0.7);
        }

        .controls {
            margin: 25px 0;
        }

        h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #00dbde;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .control-keys {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 10px;
            max-width: 200px;
            margin: 0 auto;
        }

        .key {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(0, 219, 222, 0.5);
            border-radius: 8px;
            padding: 15px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .key:hover {
            background: rgba(0, 219, 222, 0.2);
            transform: translateY(-3px);
        }

        .key:active {
            transform: translateY(1px);
        }

        .key-up {
            grid-column: 2;
            grid-row: 1;
        }

        .key-left {
            grid-column: 1;
            grid-row: 2;
        }

        .key-right {
            grid-column: 3;
            grid-row: 2;
        }

        .key-down {
            grid-column: 2;
            grid-row: 3;
        }

        .buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }

        button {
            background: linear-gradient(90deg, #00dbde, #fc00ff);
            border: none;
            border-radius: 50px;
            color: white;
            padding: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            letter-spacing: 1px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .game-status {
            margin-top: 25px;
            padding: 15px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.2);
            font-size: 1.3rem;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(0, 219, 222, 0.2);
        }

        .game-over {
            background: rgba(255, 0, 0, 0.1);
            border-color: rgba(255, 0, 0, 0.3);
            color: #ff4b2b;
        }

        .instructions {
            margin-top: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            text-align: left;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .instructions h3 {
            text-align: center;
            margin-bottom: 15px;
        }

        .instructions ul {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .instructions .highlight {
            color: #00dbde;
            font-weight: bold;
        }

        @media (max-width: 900px) {
            .game-container {
                flex-direction: column;
                align-items: center;
            }
            
            #game-board {
                width: 90vw;
                height: 90vw;
                max-width: 400px;
                max-height: 400px;
            }
            
            .game-info {
                transform: none;
                width: 100%;
                max-width: 400px;
            }
        }

        @media (max-width: 500px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .score-value, .high-score-value {
                font-size: 2.5rem;
            }
        }

        .footer {
            margin-top: 30px;
            color: #a9a9a9;
            font-size: 0.9rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-gamepad"></i> 3D SNAKE GAME</h1>
            <p class="subtitle">Control the snake, eat the food, and grow as long as possible!</p>
        </header>
        
        <div class="game-container">
            <div class="game-board-container">
                <div id="game-board"></div>
            </div>
            
            <div class="game-info">
                <div class="score-container">
                    <div class="score-title">
                        <i class="fas fa-star"></i> SCORE
                    </div>
                    <div class="score-value" id="score">0</div>
                </div>
                
                <div class="high-score-container">
                    <div class="high-score-title">
                        <i class="fas fa-trophy"></i> HIGH SCORE
                    </div>
                    <div class="high-score-value" id="high-score">0</div>
                </div>
                
                <div class="controls">
                    <h3><i class="fas fa-keyboard"></i> CONTROLS</h3>
                    <div class="control-keys">
                        <div class="key key-up" id="up-key">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                        <div class="key key-left" id="left-key">
                            <i class="fas fa-arrow-left"></i>
                        </div>
                        <div class="key key-right" id="right-key">
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="key key-down" id="down-key">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                    </div>
                </div>
                
                <div class="buttons">
                    <button id="start-btn">
                        <i class="fas fa-play"></i> START GAME
                    </button>
                    <button id="pause-btn" disabled>
                        <i class="fas fa-pause"></i> PAUSE
                    </button>
                    <button id="restart-btn">
                        <i class="fas fa-redo"></i> RESTART
                    </button>
                </div>
                
                <div class="game-status" id="game-status">
                    Click START to begin the game!
                </div>
            </div>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> HOW TO PLAY</h3>
            <ul>
                <li>Use <span class="highlight">Arrow Keys</span> or click the direction buttons to control the snake</li>
                <li>Eat the <span class="highlight">red food</span> to grow and increase your score</li>
                <li>Avoid hitting the walls or the snake's own body</li>
                <li>Each food item gives you <span class="highlight">10 points</span></li>
                <li>The game speeds up as your score increases</li>
            </ul>
        </div>
        
        <div class="footer">
            <p>3D Snake Game | Created with HTML, CSS & JavaScript | Use arrow keys to play</p>
        </div>
    </div>

    <script>
        // Game variables
        const boardSize = 20;
        let snake = [];
        let food = {};
        let direction = 'right';
        let nextDirection = 'right';
        let gameInterval;
        let gameSpeed = 150;
        let score = 0;
        let highScore = localStorage.getItem('snakeHighScore') || 0;
        let isPaused = false;
        let isGameOver = false;
        let isGameStarted = false;

        // DOM elements
        const gameBoard = document.getElementById('game-board');
        const scoreElement = document.getElementById('score');
        const highScoreElement = document.getElementById('high-score');
        const gameStatusElement = document.getElementById('game-status');
        const startBtn = document.getElementById('start-btn');
        const pauseBtn = document.getElementById('pause-btn');
        const restartBtn = document.getElementById('restart-btn');
        const upKey = document.getElementById('up-key');
        const downKey = document.getElementById('down-key');
        const leftKey = document.getElementById('left-key');
        const rightKey = document.getElementById('right-key');

        // Initialize game board
        function initBoard() {
            gameBoard.innerHTML = '';
            gameBoard.style.gridTemplateColumns = `repeat(${boardSize}, 1fr)`;
            gameBoard.style.gridTemplateRows = `repeat(${boardSize}, 1fr)`;
            
            for (let i = 0; i < boardSize * boardSize; i++) {
                const tile = document.createElement('div');
                tile.classList.add('board-tile');
                tile.setAttribute('data-index', i);
                gameBoard.appendChild(tile);
            }
        }

        // Initialize game state
        function initGame() {
            // Reset snake
            snake = [
                {x: 10, y: 10},
                {x: 9, y: 10},
                {x: 8, y: 10}
            ];
            
            // Generate first food
            generateFood();
            
            // Reset game state
            direction = 'right';
            nextDirection = 'right';
            score = 0;
            gameSpeed = 150;
            isPaused = false;
            isGameOver = false;
            
            // Update UI
            updateScore();
            highScoreElement.textContent = highScore;
            gameStatusElement.textContent = "Game started! Control the snake with arrow keys.";
            gameStatusElement.classList.remove('game-over');
            
            // Render initial state
            render();
        }

        // Generate food at random position
        function generateFood() {
            let newFood;
            let foodOnSnake;
            
            do {
                foodOnSnake = false;
                newFood = {
                    x: Math.floor(Math.random() * boardSize),
                    y: Math.floor(Math.random() * boardSize)
                };
                
                // Check if food is on snake
                for (let segment of snake) {
                    if (segment.x === newFood.x && segment.y === newFood.y) {
                        foodOnSnake = true;
                        break;
                    }
                }
            } while (foodOnSnake);
            
            food = newFood;
        }

        // Move snake
        function moveSnake() {
            if (isPaused || isGameOver) return;
            
            // Update direction
            direction = nextDirection;
            
            // Create new head based on direction
            const head = {...snake[0]};
            
            switch(direction) {
                case 'up':
                    head.y -= 1;
                    break;
                case 'down':
                    head.y += 1;
                    break;
                case 'left':
                    head.x -= 1;
                    break;
                case 'right':
                    head.x += 1;
                    break;
            }
            
            // Check for collision with walls
            if (head.x < 0 || head.x >= boardSize || head.y < 0 || head.y >= boardSize) {
                gameOver();
                return;
            }
            
            // Check for collision with self
            for (let segment of snake) {
                if (segment.x === head.x && segment.y === head.y) {
                    gameOver();
                    return;
                }
            }
            
            // Add new head to snake
            snake.unshift(head);
            
            // Check if snake ate food
            if (head.x === food.x && head.y === food.y) {
                // Increase score
                score += 10;
                
                // Update high score if needed
                if (score > highScore) {
                    highScore = score;
                    localStorage.setItem('snakeHighScore', highScore);
                }
                
                // Update score display
                updateScore();
                
                // Increase speed (up to a limit)
                if (gameSpeed > 70) {
                    gameSpeed -= 2;
                    clearInterval(gameInterval);
                    gameInterval = setInterval(gameLoop, gameSpeed);
                }
                
                // Generate new food
                generateFood();
            } else {
                // Remove tail if no food was eaten
                snake.pop();
            }
            
            // Render updated game state
            render();
        }

        // Render game state
        function render() {
            // Clear board
            const tiles = document.querySelectorAll('.board-tile');
            tiles.forEach(tile => {
                tile.classList.remove('snake', 'snake-head', 'food');
            });
            
            // Render snake
            snake.forEach((segment, index) => {
                const tileIndex = segment.y * boardSize + segment.x;
                if (tiles[tileIndex]) {
                    tiles[tileIndex].classList.add('snake');
                    if (index === 0) {
                        tiles[tileIndex].classList.add('snake-head');
                    }
                }
            });
            
            // Render food
            const foodIndex = food.y * boardSize + food.x;
            if (tiles[foodIndex]) {
                tiles[foodIndex].classList.add('food');
            }
        }

        // Update score display
        function updateScore() {
            scoreElement.textContent = score;
            highScoreElement.textContent = highScore;
        }

        // Game over function
        function gameOver() {
            isGameOver = true;
            clearInterval(gameInterval);
            
            gameStatusElement.textContent = `Game Over! Final Score: ${score}. Click RESTART to play again.`;
            gameStatusElement.classList.add('game-over');
            
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            startBtn.innerHTML = '<i class="fas fa-play"></i> START GAME';
        }

        // Game loop
        function gameLoop() {
            moveSnake();
        }

        // Start game
        function startGame() {
            if (!isGameStarted) {
                initGame();
                isGameStarted = true;
            }
            
            if (isGameOver) {
                initGame();
            }
            
            isPaused = false;
            clearInterval(gameInterval);
            gameInterval = setInterval(gameLoop, gameSpeed);
            
            gameStatusElement.textContent = "Game running! Control the snake with arrow keys.";
            gameStatusElement.classList.remove('game-over');
            
            startBtn.disabled = true;
            pauseBtn.disabled = false;
            startBtn.innerHTML = '<i class="fas fa-play"></i> GAME RUNNING';
        }

        // Pause game
        function pauseGame() {
            if (isGameOver) return;
            
            isPaused = !isPaused;
            
            if (isPaused) {
                clearInterval(gameInterval);
                gameStatusElement.textContent = "Game Paused. Click PAUSE to resume.";
                pauseBtn.innerHTML = '<i class="fas fa-play"></i> RESUME';
            } else {
                gameInterval = setInterval(gameLoop, gameSpeed);
                gameStatusElement.textContent = "Game running! Control the snake with arrow keys.";
                pauseBtn.innerHTML = '<i class="fas fa-pause"></i> PAUSE';
            }
        }

        // Restart game
        function restartGame() {
            clearInterval(gameInterval);
            isGameStarted = true;
            startGame();
        }

        // Handle keyboard input
        function handleKeyDown(e) {
            switch(e.key) {
                case 'ArrowUp':
                    if (direction !== 'down') nextDirection = 'up';
                    e.preventDefault();
                    break;
                case 'ArrowDown':
                    if (direction !== 'up') nextDirection = 'down';
                    e.preventDefault();
                    break;
                case 'ArrowLeft':
                    if (direction !== 'right') nextDirection = 'left';
                    e.preventDefault();
                    break;
                case 'ArrowRight':
                    if (direction !== 'left') nextDirection = 'right';
                    e.preventDefault();
                    break;
                case ' ':
                    if (isGameStarted && !isGameOver) {
                        pauseGame();
                    } else if (!isGameStarted || isGameOver) {
                        startGame();
                    }
                    e.preventDefault();
                    break;
            }
        }

        // Event listeners for buttons
        startBtn.addEventListener('click', startGame);
        pauseBtn.addEventListener('click', pauseGame);
        restartBtn.addEventListener('click', restartGame);

        // Event listeners for arrow keys (on-screen controls)
        upKey.addEventListener('click', () => { if (direction !== 'down') nextDirection = 'up'; });
        downKey.addEventListener('click', () => { if (direction !== 'up') nextDirection = 'down'; });
        leftKey.addEventListener('click', () => { if (direction !== 'right') nextDirection = 'left'; });
        rightKey.addEventListener('click', () => { if (direction !== 'left') nextDirection = 'right'; });

        // Event listener for keyboard
        document.addEventListener('keydown', handleKeyDown);

        // Initialize the game
        window.onload = function() {
            initBoard();
            initGame();
            highScoreElement.textContent = highScore;
        };

        // Add visual feedback for on-screen controls
        const controlKeys = document.querySelectorAll('.key');
        controlKeys.forEach(key => {
            key.addEventListener('mousedown', () => {
                key.style.transform = 'translateY(1px)';
                key.style.background = 'rgba(0, 219, 222, 0.3)';
            });
            
            key.addEventListener('mouseup', () => {
                key.style.transform = '';
                key.style.background = '';
            });
            
            key.addEventListener('mouseleave', () => {
                key.style.transform = '';
                key.style.background = '';
            });
        });
    </script>
</body>
</html>