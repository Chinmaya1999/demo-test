<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud DevOps 3D Architecture Portfolio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0c1c24 0%, #162b35 50%, #0c1c24 100%);
            color: #e3f2fd;
            overflow-x: hidden;
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(0, 201, 255, 0.2);
        }

        .logo {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(90deg, #00e0ff, #00ff9d);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 1px;
        }

        .logo span {
            font-size: 14px;
            display: block;
            color: #8be9fd;
            font-weight: 400;
            letter-spacing: 3px;
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: #8be9fd;
            text-decoration: none;
            font-weight: 500;
            font-size: 16px;
            transition: all 0.3s;
            padding: 8px 15px;
            border-radius: 20px;
        }

        .nav-links a:hover, .nav-links a.active {
            background: rgba(0, 201, 255, 0.1);
            color: #00e0ff;
        }

        .hero {
            text-align: center;
            padding: 40px 0 60px;
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 15px;
            background: linear-gradient(90deg, #00e0ff, #00ff9d);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            font-size: 20px;
            max-width: 800px;
            margin: 0 auto 30px;
            line-height: 1.6;
            color: #b4e9ff;
        }

        .content-area {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
            margin-bottom: 60px;
        }

        .tools-panel {
            background: rgba(12, 36, 54, 0.8);
            border-radius: 15px;
            padding: 25px;
            height: fit-content;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 224, 255, 0.2);
        }

        .tools-panel h2 {
            color: #00ff9d;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 255, 157, 0.3);
            font-size: 22px;
        }

        .tool-category {
            margin-bottom: 25px;
        }

        .tool-category h3 {
            color: #00e0ff;
            font-size: 16px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tool-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .tool-item {
            background: rgba(20, 50, 70, 0.7);
            padding: 12px 15px;
            border-radius: 8px;
            border-left: 4px solid;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tool-item:hover {
            transform: translateX(5px);
            background: rgba(30, 70, 100, 0.8);
        }

        .tool-item.active {
            background: rgba(0, 224, 255, 0.15);
            border-left-color: #00e0ff;
        }

        .tool-icon {
            font-size: 20px;
            width: 30px;
            text-align: center;
        }

        .tool-name {
            font-weight: 500;
            font-size: 15px;
        }

        .viz-container {
            background: rgba(8, 25, 40, 0.9);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(0, 224, 255, 0.2);
            position: relative;
            height: 700px;
        }

        #architecture-viz {
            width: 100%;
            height: 100%;
        }

        .viz-controls {
            position: absolute;
            bottom: 25px;
            right: 25px;
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .viz-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(0, 40, 60, 0.8);
            border: 1px solid rgba(0, 224, 255, 0.4);
            color: #00e0ff;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .viz-btn:hover {
            background: rgba(0, 224, 255, 0.2);
            transform: scale(1.1);
        }

        .info-panel {
            position: absolute;
            top: 25px;
            left: 25px;
            background: rgba(8, 25, 40, 0.9);
            border-radius: 10px;
            padding: 20px;
            width: 350px;
            border-left: 5px solid #00ff9d;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
            z-index: 100;
        }

        .info-panel h3 {
            color: #00ff9d;
            margin-bottom: 10px;
            font-size: 20px;
        }

        .info-panel p {
            color: #b4e9ff;
            line-height: 1.6;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .workflow-steps {
            background: rgba(12, 36, 54, 0.8);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 60px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 224, 255, 0.2);
        }

        .workflow-steps h2 {
            text-align: center;
            color: #00e0ff;
            margin-bottom: 40px;
            font-size: 28px;
        }

        .steps-container {
            display: flex;
            justify-content: space-between;
            position: relative;
        }

        .step {
            width: 18%;
            background: rgba(20, 50, 70, 0.7);
            border-radius: 10px;
            padding: 25px 20px;
            text-align: center;
            position: relative;
            z-index: 2;
            transition: all 0.3s;
            border-top: 3px solid;
        }

        .step:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 224, 255, 0.2);
        }

        .step-number {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background: #00ff9d;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: #0c1c24;
            font-size: 18px;
            box-shadow: 0 0 15px rgba(0, 255, 157, 0.5);
        }

        .step-icon {
            font-size: 36px;
            margin-bottom: 15px;
            color: #00e0ff;
        }

        .step h3 {
            color: #fff;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .step p {
            color: #b4e9ff;
            font-size: 13px;
            line-height: 1.5;
        }

        .connector-line {
            position: absolute;
            top: 50%;
            left: 10%;
            width: 80%;
            height: 2px;
            background: linear-gradient(90deg, #00e0ff, #00ff9d);
            z-index: 1;
            opacity: 0.5;
        }

        .connector-arrow {
            position: absolute;
            top: 50%;
            right: 10%;
            transform: translateY(-50%);
            color: #00ff9d;
            font-size: 24px;
            z-index: 3;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            border-top: 1px solid rgba(0, 201, 255, 0.2);
            color: #8be9fd;
            font-size: 14px;
        }

        .highlight {
            color: #00ff9d;
            font-weight: 600;
        }

        /* Responsive design */
        @media (max-width: 1200px) {
            .content-area {
                grid-template-columns: 1fr;
            }
            
            .viz-container {
                height: 500px;
            }
            
            .steps-container {
                flex-wrap: wrap;
                gap: 40px;
                justify-content: center;
            }
            
            .step {
                width: 45%;
            }
            
            .connector-line, .connector-arrow {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 36px;
            }
            
            .hero p {
                font-size: 18px;
            }
            
            .nav-links {
                display: none;
            }
            
            .info-panel {
                width: 90%;
                left: 5%;
            }
            
            .step {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                DevOps 3D Architecture
                <span>CLOUD WORKFLOW VISUALIZATION</span>
            </div>
            <div class="nav-links">
                <a href="#" class="active">3D Architecture</a>
                <a href="#">Tool Details</a>
                <a href="#">Workflow</a>
                <a href="#">About</a>
            </div>
        </header>
        
        <section class="hero">
            <h1>Cloud DevOps Architecture Visualization</h1>
            <p>Explore the complete CI/CD pipeline and cloud infrastructure through an interactive 3D model. Understand how modern DevOps tools work together seamlessly.</p>
        </section>
        
        <div class="content-area">
            <div class="tools-panel">
                <h2><i class="fas fa-tools"></i> DevOps Toolchain</h2>
                
                <div class="tool-category">
                    <h3><i class="fas fa-code"></i> Development</h3>
                    <div class="tool-list">
                        <div class="tool-item active" data-tool="git">
                            <div class="tool-icon"><i class="fab fa-git-alt"></i></div>
                            <div class="tool-name">Git</div>
                        </div>
                        <div class="tool-item" data-tool="github">
                            <div class="tool-icon"><i class="fab fa-github"></i></div>
                            <div class="tool-name">GitHub</div>
                        </div>
                    </div>
                </div>
                
                <div class="tool-category">
                    <h3><i class="fas fa-cogs"></i> CI/CD Pipeline</h3>
                    <div class="tool-list">
                        <div class="tool-item" data-tool="jenkins">
                            <div class="tool-icon"><i class="fab fa-jenkins"></i></div>
                            <div class="tool-name">Jenkins</div>
                        </div>
                        <div class="tool-item" data-tool="docker">
                            <div class="tool-icon"><i class="fab fa-docker"></i></div>
                            <div class="tool-name">Docker</div>
                        </div>
                        <div class="tool-item" data-tool="kubernetes">
                            <div class="tool-icon"><i class="fas fa-cubes"></i></div>
                            <div class="tool-name">Kubernetes</div>
                        </div>
                    </div>
                </div>
                
                <div class="tool-category">
                    <h3><i class="fas fa-cloud"></i> Infrastructure</h3>
                    <div class="tool-list">
                        <div class="tool-item" data-tool="terraform">
                            <div class="tool-icon"><i class="fas fa-mountain"></i></div>
                            <div class="tool-name">Terraform</div>
                        </div>
                        <div class="tool-item" data-tool="aws">
                            <div class="tool-icon"><i class="fab fa-aws"></i></div>
                            <div class="tool-name">AWS</div>
                        </div>
                        <div class="tool-item" data-tool="ansible">
                            <div class="tool-icon"><i class="fas fa-robot"></i></div>
                            <div class="tool-name">Ansible</div>
                        </div>
                    </div>
                </div>
                
                <div class="tool-category">
                    <h3><i class="fas fa-chart-line"></i> Monitoring</h3>
                    <div class="tool-list">
                        <div class="tool-item" data-tool="prometheus">
                            <div class="tool-icon"><i class="fas fa-database"></i></div>
                            <div class="tool-name">Prometheus</div>
                        </div>
                        <div class="tool-item" data-tool="grafana">
                            <div class="tool-icon"><i class="fas fa-chart-bar"></i></div>
                            <div class="tool-name">Grafana</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="viz-container">
                <div id="architecture-viz"></div>
                
                <div class="info-panel" id="info-panel">
                    <h3>Cloud DevOps Architecture</h3>
                    <p>This 3D visualization shows a complete CI/CD pipeline with integrated monitoring. Click on any tool in the panel to see its role and connections in the architecture.</p>
                    <p><span class="highlight">Current Focus:</span> <span id="current-tool">Git Version Control</span></p>
                </div>
                
                <div class="viz-controls">
                    <button class="viz-btn" id="reset-view" title="Reset View">
                        <i class="fas fa-crosshairs"></i>
                    </button>
                    <button class="viz-btn" id="toggle-rotate" title="Toggle Rotation">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="viz-btn" id="zoom-in" title="Zoom In">
                        <i class="fas fa-search-plus"></i>
                    </button>
                    <button class="viz-btn" id="zoom-out" title="Zoom Out">
                        <i class="fas fa-search-minus"></i>
                    </button>
                    <button class="viz-btn" id="view-front" title="Front View">
                        <i class="fas fa-arrow-up"></i>
                    </button>
                    <button class="viz-btn" id="view-top" title="Top View">
                        <i class="fas fa-arrow-down"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <section class="workflow-steps">
            <h2><i class="fas fa-sitemap"></i> End-to-End DevOps Workflow</h2>
            
            <div class="steps-container">
                <div class="connector-line"></div>
                
                <div class="step" style="border-top-color: #00e0ff;">
                    <div class="step-number">1</div>
                    <div class="step-icon"><i class="fas fa-code-branch"></i></div>
                    <h3>Code & Commit</h3>
                    <p>Developers write code and commit to Git repository. GitHub/GitLab manages version control and collaboration.</p>
                </div>
                
                <div class="connector-arrow"><i class="fas fa-arrow-right"></i></div>
                
                <div class="step" style="border-top-color: #ff6b6b;">
                    <div class="step-number">2</div>
                    <div class="step-icon"><i class="fas fa-hammer"></i></div>
                    <h3>Build & Test</h3>
                    <p>Jenkins automatically builds the application, runs tests, and validates code quality with SonarQube.</p>
                </div>
                
                <div class="connector-arrow"><i class="fas fa-arrow-right"></i></div>
                
                <div class="step" style="border-top-color: #2496ED;">
                    <div class="step-number">3</div>
                    <div class="step-icon"><i class="fas fa-box"></i></div>
                    <h3>Containerize</h3>
                    <p>Docker packages the application into containers. Images are pushed to a container registry like Docker Hub.</p>
                </div>
                
                <div class="connector-arrow"><i class="fas fa-arrow-right"></i></div>
                
                <div class="step" style="border-top-color: #326CE5;">
                    <div class="step-number">4</div>
                    <div class="step-icon"><i class="fas fa-cloud-upload-alt"></i></div>
                    <h3>Deploy</h3>
                    <p>Kubernetes deploys containers to the cloud. Terraform provisions AWS infrastructure as code.</p>
                </div>
                
                <div class="connector-arrow"><i class="fas fa-arrow-right"></i></div>
                
                <div class="step" style="border-top-color: #00ff9d;">
                    <div class="step-number">5</div>
                    <div class="step-icon"><i class="fas fa-chart-line"></i></div>
                    <h3>Monitor & Scale</h3>
                    <p>Prometheus collects metrics, Grafana visualizes data. Auto-scaling adjusts resources based on demand.</p>
                </div>
            </div>
        </section>
        
        <footer>
            <p>Cloud DevOps 3D Architecture Portfolio | Interactive Visualization of Modern CI/CD Pipeline</p>
            <p>Â© 2023 | Created with Three.js | <span class="highlight">Hover over tools and click for details</span></p>
        </footer>
    </div>

    <script>
        // Three.js 3D Architecture Visualization
        let scene, camera, renderer, controls;
        let autoRotate = true;
        let currentTool = 'git';
        
        // Tool data
        const toolData = {
            git: {
                name: "Git Version Control",
                description: "Distributed version control system for tracking changes in source code during development. Developers commit code changes which trigger the CI/CD pipeline.",
                color: "#F1502F",
                position: { x: -12, y: 2, z: 0 }
            },
            github: {
                name: "GitHub / GitLab",
                description: "Web-based hosting service for Git repositories. Provides collaboration features, code review, issue tracking, and CI/CD integration.",
                color: "#4078c0",
                position: { x: -8, y: 2, z: 4 }
            },
            jenkins: {
                name: "Jenkins CI/CD",
                description: "Open-source automation server for building, testing, and deploying software. Creates pipelines that automate the entire delivery process.",
                color: "#D33833",
                position: { x: -4, y: 4, z: 0 }
            },
            docker: {
                name: "Docker Containerization",
                description: "Platform for developing, shipping, and running applications in containers. Packages applications with all dependencies for consistency.",
                color: "#2496ED",
                position: { x: 0, y: 3, z: -4 }
            },
            kubernetes: {
                name: "Kubernetes Orchestration",
                description: "Container orchestration platform for automating deployment, scaling, and management of containerized applications across clusters.",
                color: "#326CE5",
                position: { x: 4, y: 5, z: 0 }
            },
            terraform: {
                name: "Terraform (IaC)",
                description: "Infrastructure as Code tool for building, changing, and versioning cloud infrastructure safely and efficiently across providers.",
                color: "#5C4EE5",
                position: { x: 8, y: 3, z: 4 }
            },
            aws: {
                name: "AWS Cloud Services",
                description: "Cloud platform providing on-demand computing resources, storage, databases, networking, and machine learning services.",
                color: "#FF9900",
                position: { x: 12, y: 4, z: -4 }
            },
            ansible: {
                name: "Ansible Automation",
                description: "Configuration management tool that automates cloud provisioning, configuration management, and application deployment.",
                color: "#EE0000",
                position: { x: 0, y: 2, z: 8 }
            },
            prometheus: {
                name: "Prometheus Monitoring",
                description: "Open-source monitoring and alerting toolkit designed for reliability and scalability in containerized environments.",
                color: "#E6522C",
                position: { x: -4, y: 1, z: -8 }
            },
            grafana: {
                name: "Grafana Visualization",
                description: "Open-source platform for monitoring and observability with dashboards, graphs, and alerts for time series data.",
                color: "#F46800",
                position: { x: 4, y: 1, z: -8 }
            }
        };
        
        // Initialize the 3D scene
        function init() {
            // Create scene with gradient background
            scene = new THREE.Scene();
            
            // Create camera with better positioning
            camera = new THREE.PerspectiveCamera(
                45, 
                document.getElementById('architecture-viz').offsetWidth / document.getElementById('architecture-viz').offsetHeight, 
                0.1, 
                1000
            );
            camera.position.set(0, 15, 25);
            
            // Create renderer with better quality
            renderer = new THREE.WebGLRenderer({ 
                antialias: true, 
                alpha: true 
            });
            renderer.setSize(
                document.getElementById('architecture-viz').offsetWidth, 
                document.getElementById('architecture-viz').offsetHeight
            );
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            
            // Add renderer to DOM
            document.getElementById('architecture-viz').appendChild(renderer.domElement);
            
            // Add orbit controls
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.minDistance = 10;
            controls.maxDistance = 50;
            controls.maxPolarAngle = Math.PI * 0.9;
            controls.autoRotate = autoRotate;
            controls.autoRotateSpeed = 0.5;
            
            // Add lighting
            addLighting();
            
            // Create the 3D architecture
            createArchitecture();
            
            // Add event listeners
            setupEventListeners();
            
            // Handle window resize
            window.addEventListener('resize', onWindowResize);
            
            // Start animation loop
            animate();
        }
        
        // Add lighting to the scene
        function addLighting() {
            // Ambient light
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.4);
            scene.add(ambientLight);
            
            // Directional light (sun-like)
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 20, 10);
            directionalLight.castShadow = true;
            directionalLight.shadow.camera.left = -20;
            directionalLight.shadow.camera.right = 20;
            directionalLight.shadow.camera.top = 20;
            directionalLight.shadow.camera.bottom = -20;
            directionalLight.shadow.mapSize.width = 2048;
            directionalLight.shadow.mapSize.height = 2048;
            scene.add(directionalLight);
            
            // Hemisphere light for natural outdoor effect
            const hemisphereLight = new THREE.HemisphereLight(0x00c9ff, 0x00ff9d, 0.3);
            scene.add(hemisphereLight);
            
            // Point lights for tool highlights
            const pointLight1 = new THREE.PointLight(0x00e0ff, 0.5, 30);
            pointLight1.position.set(-10, 10, 0);
            scene.add(pointLight1);
            
            const pointLight2 = new THREE.PointLight(0x00ff9d, 0.5, 30);
            pointLight2.position.set(10, 10, 0);
            scene.add(pointLight2);
        }
        
        // Create the 3D architecture
        function createArchitecture() {
            // Create ground
            const groundGeometry = new THREE.PlaneGeometry(40, 40);
            const groundMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x0a1a23,
                side: THREE.DoubleSide,
                shininess: 10
            });
            const ground = new THREE.Mesh(groundGeometry, groundMaterial);
            ground.rotation.x = -Math.PI / 2;
            ground.position.y = -1;
            ground.receiveShadow = true;
            scene.add(ground);
            
            // Create grid helper for reference
            const gridHelper = new THREE.GridHelper(40, 20, 0x00e0ff, 0x0a1a23);
            gridHelper.position.y = -0.9;
            scene.add(gridHelper);
            
            // Create central pipeline structure
            createPipeline();
            
            // Create tool nodes
            createToolNodes();
            
            // Create data flow connections
            createDataFlow();
        }
        
        // Create the central pipeline structure
        function createPipeline() {
            // Create pipeline base (a long rectangular platform)
            const pipelineBaseGeometry = new THREE.BoxGeometry(30, 0.5, 4);
            const pipelineBaseMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x1a3a4a,
                emissive: 0x0a1a23,
                emissiveIntensity: 0.2,
                shininess: 30
            });
            const pipelineBase = new THREE.Mesh(pipelineBaseGeometry, pipelineBaseMaterial);
            pipelineBase.position.y = 1;
            pipelineBase.castShadow = true;
            pipelineBase.receiveShadow = true;
            scene.add(pipelineBase);
            
            // Create pipeline stages (5 stages for the workflow)
            const stageColors = [0x00e0ff, 0xff6b6b, 0x2496ED, 0x326CE5, 0x00ff9d];
            
            for (let i = 0; i < 5; i++) {
                // Stage platform
                const stageGeometry = new THREE.BoxGeometry(4.5, 0.3, 3);
                const stageMaterial = new THREE.MeshPhongMaterial({ 
                    color: stageColors[i],
                    emissive: stageColors[i],
                    emissiveIntensity: 0.1,
                    transparent: true,
                    opacity: 0.8
                });
                const stage = new THREE.Mesh(stageGeometry, stageMaterial);
                stage.position.set(-12 + i * 6, 1.5, 0);
                stage.castShadow = true;
                stage.receiveShadow = true;
                scene.add(stage);
                
                // Stage label
                const stageLabels = ['CODE', 'BUILD', 'CONTAINER', 'DEPLOY', 'MONITOR'];
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.width = 256;
                canvas.height = 128;
                
                context.fillStyle = '#0a1a23';
                context.fillRect(0, 0, canvas.width, canvas.height);
                context.font = 'bold 24px Arial';
                context.textAlign = 'center';
                context.textBaseline = 'middle';
                context.fillStyle = '#ffffff';
                context.fillText(stageLabels[i], canvas.width/2, canvas.height/2);
                
                const texture = new THREE.CanvasTexture(canvas);
                const labelMaterial = new THREE.SpriteMaterial({ map: texture });
                const label = new THREE.Sprite(labelMaterial);
                label.position.set(-12 + i * 6, 2.5, 0);
                label.scale.set(4, 2, 1);
                scene.add(label);
            }
            
            // Create flowing data through pipeline
            createFlowingData();
        }
        
        // Create flowing data animation through pipeline
        function createFlowingData() {
            // Data particles flowing through the pipeline
            const particleCount = 100;
            const particles = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);
            
            for (let i = 0; i < particleCount; i++) {
                // Position particles along the pipeline
                const i3 = i * 3;
                positions[i3] = -15 + (i / particleCount) * 30; // X position
                positions[i3 + 1] = 2 + Math.random() * 0.5;    // Y position
                positions[i3 + 2] = (Math.random() - 0.5) * 2;  // Z position
                
                // Random colors between blue and green
                colors[i3] = Math.random() * 0.5 + 0.5;     // R
                colors[i3 + 1] = Math.random() * 0.5 + 0.5; // G
                colors[i3 + 2] = 1;                         // B
            }
            
            particles.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            particles.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            
            const particleMaterial = new THREE.PointsMaterial({
                size: 0.2,
                vertexColors: true,
                transparent: true,
                opacity: 0.8
            });
            
            const particleSystem = new THREE.Points(particles, particleMaterial);
            particleSystem.userData = { speed: 0.05 };
            scene.add(particleSystem);
        }
        
        // Create tool nodes around the pipeline
        function createToolNodes() {
            // Create nodes for each tool
            Object.keys(toolData).forEach(toolKey => {
                const tool = toolData[toolKey];
                
                // Create node as a cylinder with rounded edges
                const geometry = new THREE.CylinderGeometry(1.2, 1.2, 1.5, 8);
                const material = new THREE.MeshPhongMaterial({ 
                    color: tool.color,
                    emissive: tool.color,
                    emissiveIntensity: 0.1,
                    shininess: 100,
                    transparent: true,
                    opacity: 0.9
                });
                
                const node = new THREE.Mesh(geometry, material);
                node.position.set(tool.position.x, tool.position.y, tool.position.z);
                node.castShadow = true;
                node.receiveShadow = true;
                node.userData = { 
                    tool: toolKey,
                    originalPosition: node.position.clone(),
                    pulseOffset: Math.random() * Math.PI * 2
                };
                
                scene.add(node);
                
                // Create tool label
                createToolLabel(toolKey, tool);
                
                // Create connecting line from tool to pipeline
                createToolConnection(toolKey, tool);
            });
        }
        
        // Create tool label
        function createToolLabel(toolKey, tool) {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 256;
            canvas.height = 128;
            
            // Draw background
            context.fillStyle = '#0a1a23';
            context.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw border
            context.strokeStyle = tool.color;
            context.lineWidth = 3;
            context.strokeRect(2, 2, canvas.width - 4, canvas.height - 4);
            
            // Draw text
            context.font = 'bold 20px Arial';
            context.textAlign = 'center';
            context.textBaseline = 'middle';
            context.fillStyle = '#ffffff';
            context.fillText(tool.name.split(' ')[0], canvas.width/2, canvas.height/2);
            
            const texture = new THREE.CanvasTexture(canvas);
            const labelMaterial = new THREE.SpriteMaterial({ 
                map: texture,
                transparent: true
            });
            
            const label = new THREE.Sprite(labelMaterial);
            label.position.set(tool.position.x, tool.position.y + 2, tool.position.z);
            label.scale.set(5, 2.5, 1);
            label.userData = { tool: toolKey };
            
            scene.add(label);
        }
        
        // Create connection from tool to pipeline
        function createToolConnection(toolKey, tool) {
            // Create a curved line from tool to the pipeline
            const startPoint = new THREE.Vector3(tool.position.x, tool.position.y, tool.position.z);
            const endPoint = new THREE.Vector3(
                Math.max(-12, Math.min(12, tool.position.x * 0.5)), 
                1.5, 
                0
            );
            
            // Control point for the curve
            const controlPoint = new THREE.Vector3(
                (startPoint.x + endPoint.x) / 2,
                Math.max(startPoint.y, endPoint.y) + 3,
                (startPoint.z + endPoint.z) / 2
            );
            
            const curve = new THREE.QuadraticBezierCurve3(startPoint, controlPoint, endPoint);
            const points = curve.getPoints(20);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            
            const material = new THREE.LineBasicMaterial({
                color: tool.color,
                transparent: true,
                opacity: 0.4,
                linewidth: 2
            });
            
            const curveObject = new THREE.Line(geometry, material);
            curveObject.userData = { tool: toolKey };
            scene.add(curveObject);
            
            // Add a moving dot along the connection
            addConnectionDot(curve, tool.color, toolKey);
        }
        
        // Add moving dot along connection
        function addConnectionDot(curve, color, toolKey) {
            const dotGeometry = new THREE.SphereGeometry(0.15, 8, 8);
            const dotMaterial = new THREE.MeshBasicMaterial({ color: color });
            const dot = new THREE.Mesh(dotGeometry, dotMaterial);
            
            dot.userData = {
                curve: curve,
                progress: Math.random(),
                speed: 0.002 + Math.random() * 0.003,
                tool: toolKey
            };
            
            updateDotPosition(dot);
            scene.add(dot);
        }
        
        // Update dot position along curve
        function updateDotPosition(dot) {
            const position = dot.userData.curve.getPoint(dot.userData.progress);
            dot.position.copy(position);
        }
        
        // Create data flow between tools
        function createDataFlow() {
            // Define data flow paths between tools
            const flowPaths = [
                { from: 'git', to: 'github', color: 0xF1502F },
                { from: 'github', to: 'jenkins', color: 0x4078c0 },
                { from: 'jenkins', to: 'docker', color: 0xD33833 },
                { from: 'docker', to: 'kubernetes', color: 0x2496ED },
                { from: 'kubernetes', to: 'aws', color: 0x326CE5 },
                { from: 'terraform', to: 'aws', color: 0x5C4EE5 },
                { from: 'aws', to: 'ansible', color: 0xFF9900 },
                { from: 'kubernetes', to: 'prometheus', color: 0x326CE5 },
                { from: 'prometheus', to: 'grafana', color: 0xE6522C }
            ];
            
            flowPaths.forEach(path => {
                const fromTool = toolData[path.from];
                const toTool = toolData[path.to];
                
                if (!fromTool || !toTool) return;
                
                // Create a curved line between tools
                const start = new THREE.Vector3(
                    fromTool.position.x, 
                    fromTool.position.y, 
                    fromTool.position.z
                );
                
                const end = new THREE.Vector3(
                    toTool.position.x, 
                    toTool.position.y, 
                    toTool.position.z
                );
                
                // Control point for curvature
                const control = new THREE.Vector3(
                    (start.x + end.x) / 2,
                    Math.max(start.y, end.y) + 5,
                    (start.z + end.z) / 2
                );
                
                const curve = new THREE.QuadraticBezierCurve3(start, control, end);
                const points = curve.getPoints(30);
                const geometry = new THREE.BufferGeometry().setFromPoints(points);
                
                const material = new THREE.LineBasicMaterial({
                    color: path.color,
                    transparent: true,
                    opacity: 0.3,
                    linewidth: 1
                });
                
                const line = new THREE.Line(geometry, material);
                scene.add(line);
            });
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // Tool selection
            document.querySelectorAll('.tool-item').forEach(item => {
                item.addEventListener('click', function() {
                    const tool = this.getAttribute('data-tool');
                    selectTool(tool);
                });
            });
            
            // Control buttons
            document.getElementById('reset-view').addEventListener('click', resetView);
            document.getElementById('toggle-rotate').addEventListener('click', toggleRotation);
            document.getElementById('zoom-in').addEventListener('click', () => zoom(0.9));
            document.getElementById('zoom-out').addEventListener('click', () => zoom(1.1));
            document.getElementById('view-front').addEventListener('click', () => setCameraView('front'));
            document.getElementById('view-top').addEventListener('click', () => setCameraView('top'));
        }
        
        // Select a tool and highlight it
        function selectTool(toolKey) {
            // Update UI
            document.querySelectorAll('.tool-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-tool') === toolKey) {
                    item.classList.add('active');
                }
            });
            
            // Update info panel
            const tool = toolData[toolKey];
            if (tool) {
                document.getElementById('current-tool').textContent = tool.name;
                document.getElementById('info-panel').innerHTML = `
                    <h3>${tool.name}</h3>
                    <p>${tool.description}</p>
                    <p><span class="highlight">Position in workflow:</span> See the connection from this tool to the central pipeline.</p>
                `;
            }
            
            // Highlight tool in 3D view
            highlightToolInScene(toolKey);
            
            // Update current tool
            currentTool = toolKey;
        }
        
        // Highlight tool in the 3D scene
        function highlightToolInScene(toolKey) {
            // Reset all tool highlights
            scene.traverse(object => {
                if (object.userData && object.userData.tool) {
                    // Reset material properties
                    if (object.material && object.material.emissive) {
                        const toolColor = toolData[object.userData.tool].color;
                        object.material.emissive.setHex(parseInt(toolColor.replace('#', ''), 16));
                        object.material.emissiveIntensity = 0.1;
                        object.material.opacity = 0.9;
                    }
                }
            });
            
            // Highlight selected tool
            scene.traverse(object => {
                if (object.userData && object.userData.tool === toolKey) {
                    // Highlight with brighter emissive color
                    if (object.material && object.material.emissive) {
                        const toolColor = toolData[toolKey].color;
                        object.material.emissive.setHex(0xffffff);
                        object.material.emissiveIntensity = 0.5;
                        object.material.opacity = 1;
                        
                        // Add pulsing animation
                        object.userData.highlighted = true;
                        object.userData.highlightTime = 0;
                    }
                    
                    // Center camera on the tool
                    const toolPos = toolData[toolKey].position;
                    controls.target.set(toolPos.x, toolPos.y, toolPos.z);
                }
            });
        }
        
        // Reset view to default
        function resetView() {
            controls.reset();
            camera.position.set(0, 15, 25);
            controls.target.set(0, 0, 0);
            
            // Reset tool selection
            document.querySelectorAll('.tool-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector('.tool-item[data-tool="git"]').classList.add('active');
            
            // Reset info panel
            document.getElementById('info-panel').innerHTML = `
                <h3>Cloud DevOps Architecture</h3>
                <p>This 3D visualization shows a complete CI/CD pipeline with integrated monitoring. Click on any tool in the panel to see its role and connections in the architecture.</p>
                <p><span class="highlight">Current Focus:</span> <span id="current-tool">Git Version Control</span></p>
            `;
            
            // Reset scene highlights
            scene.traverse(object => {
                if (object.userData && object.userData.tool) {
                    if (object.material && object.material.emissive) {
                        const toolColor = toolData[object.userData.tool].color;
                        object.material.emissive.setHex(parseInt(toolColor.replace('#', ''), 16));
                        object.material.emissiveIntensity = 0.1;
                    }
                }
            });
            
            currentTool = 'git';
        }
        
        // Toggle auto rotation
        function toggleRotation() {
            autoRotate = !autoRotate;
            controls.autoRotate = autoRotate;
            const btn = document.getElementById('toggle-rotate');
            btn.style.background = autoRotate 
                ? 'rgba(0, 224, 255, 0.3)' 
                : 'rgba(0, 255, 157, 0.3)';
        }
        
        // Zoom in/out
        function zoom(factor) {
            camera.position.multiplyScalar(factor);
        }
        
        // Set camera to specific view
        function setCameraView(view) {
            switch(view) {
                case 'front':
                    camera.position.set(0, 5, 30);
                    controls.target.set(0, 0, 0);
                    break;
                case 'top':
                    camera.position.set(0, 30, 0);
                    controls.target.set(0, 0, 0);
                    break;
            }
        }
        
        // Handle window resize
        function onWindowResize() {
            camera.aspect = document.getElementById('architecture-viz').offsetWidth / 
                           document.getElementById('architecture-viz').offsetHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(
                document.getElementById('architecture-viz').offsetWidth, 
                document.getElementById('architecture-viz').offsetHeight
            );
        }
        
        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            
            // Update controls
            controls.update();
            
            // Update moving dots along connections
            scene.traverse(object => {
                // Animate connection dots
                if (object.userData && object.userData.curve) {
                    object.userData.progress += object.userData.speed;
                    if (object.userData.progress > 1) {
                        object.userData.progress = 0;
                    }
                    updateDotPosition(object);
                }
                
                // Animate tool nodes (gentle floating)
                if (object.userData && object.userData.originalPosition) {
                    const time = Date.now() * 0.001;
                    const pulse = Math.sin(time + object.userData.pulseOffset) * 0.1;
                    object.position.y = object.userData.originalPosition.y + pulse;
                    
                    // Rotate slowly
                    object.rotation.y += 0.005;
                }
                
                // Animate highlighted tools
                if (object.userData && object.userData.highlighted) {
                    object.userData.highlightTime += 0.05;
                    const pulse = Math.sin(object.userData.highlightTime * 8) * 0.2;
                    object.scale.setScalar(1 + pulse);
                    
                    if (object.userData.highlightTime > 2) {
                        object.userData.highlighted = false;
                        object.scale.setScalar(1);
                    }
                }
            });
            
            // Animate flowing data particles
            scene.traverse(object => {
                if (object.type === 'Points' && object.userData) {
                    const positions = object.geometry.attributes.position.array;
                    
                    for (let i = 0; i < positions.length; i += 3) {
                        // Move particles along X axis
                        positions[i] += object.userData.speed;
                        
                        // Reset particle if it goes beyond pipeline
                        if (positions[i] > 15) {
                            positions[i] = -15;
                            positions[i + 1] = 2 + Math.random() * 0.5;
                            positions[i + 2] = (Math.random() - 0.5) * 2;
                        }
                    }
                    
                    object.geometry.attributes.position.needsUpdate = true;
                }
            });
            
            // Render the scene
            renderer.render(scene, camera);
        }
        
        // Initialize when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>